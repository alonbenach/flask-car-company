{% extends 'base.html' %}

{% block title %}New Car Part{% endblock %}

{% block header %}
  <h1>{% if car_part %}Edit{% else %}New{% endif %} Car Part</h1>
{% endblock %}

{% block content %}
  <form action="" method="post">
    <label for="part_name">Part Name:</label>
    <input type="text" id="part_name" name="part_name" value="{{ car_part.part_name if car_part else '' }}" required>
    
    <label for="manufacture_plant_id">Manufacture Plant:</label>
    <select id="manufacture_plant_id" name="manufacture_plant_id" required>
      {% for plant in manufacture_plants %}
        <option value="{{ plant.manufacture_plant_id }}" {% if car_part and car_part.manufacture_plant_id == plant.manufacture_plant_id %}selected{% endif %}>
          {{ plant.plant_name }}
        </option>
      {% endfor %}
    </select>
    
    <label for="manufacture_start_date">Manufacture Start Date:</label>
    <input type="date" id="manufacture_start_date" name="manufacture_start_date" value="{{ car_part.manufacture_start_date if car_part else '' }}" required>
    
    <label for="manufacture_end_date">Manufacture End Date:</label>
    <input type="date" id="manufacture_end_date" name="manufacture_end_date" value="{{ car_part.manufacture_end_date if car_part else '' }}">
    
    <label for="part_recall">Part Recall:</label>
    <input type="checkbox" id="part_recall" name="part_recall" {% if car_part and car_part.part_recall %}checked{% endif %}>
    
    <button type="submit">{% if car_part %}Update{% else %}Add{% endif %} Part</button>
  </form>
{% endblock %}
